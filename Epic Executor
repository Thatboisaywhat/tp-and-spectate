local keyGui = Instance.new("ScreenGui", game:GetService("CoreGui"))
keyGui.Name = "EpicKeySystem"
keyGui.ResetOnSpawn = false

local keyFrame = Instance.new("Frame", keyGui)
keyFrame.Size = UDim2.new(0, 320, 0, 200)
keyFrame.Position = UDim2.new(0.5, -160, 0.5, -100)
keyFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
keyFrame.BorderSizePixel = 0
keyFrame.Active = true
keyFrame.Draggable = true

local header = Instance.new("Frame", keyFrame)
header.Size = UDim2.new(1, 0, 0, 35)
header.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
local gradient = Instance.new("UIGradient", header)
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 100)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 200, 255))
}
gradient.Rotation = 45

local title = Instance.new("TextLabel", header)
title.Size = UDim2.new(1, 0, 1, 0)
title.BackgroundTransparency = 1
title.Text = "üîê Epic Key System"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16

local keyBox = Instance.new("TextBox", keyFrame)
keyBox.Size = UDim2.new(0.9, 0, 0, 30)
keyBox.Position = UDim2.new(0.05, 0, 0, 50)
keyBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
keyBox.TextColor3 = Color3.new(1, 1, 1)
keyBox.Font = Enum.Font.Code
keyBox.TextSize = 14
keyBox.PlaceholderText = "Paste your key here..."
keyBox.Text = ""

local submitBtn = Instance.new("TextButton", keyFrame)
submitBtn.Size = UDim2.new(0.9, 0, 0, 30)
submitBtn.Position = UDim2.new(0.05, 0, 0, 90)
submitBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
submitBtn.TextColor3 = Color3.fromRGB(0, 255, 200)
submitBtn.Font = Enum.Font.GothamBold
submitBtn.TextSize = 14
submitBtn.Text = "‚úÖ Submit Key"
submitBtn.BorderSizePixel = 0

local linkBtn = Instance.new("TextButton", keyFrame)
linkBtn.Size = UDim2.new(0.9, 0, 0, 30)
linkBtn.Position = UDim2.new(0.05, 0, 0, 130)
linkBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
linkBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
linkBtn.Font = Enum.Font.GothamBold
linkBtn.TextSize = 14
linkBtn.Text = "üîó Get Key (via Workink)"
linkBtn.BorderSizePixel = 0

local status = Instance.new("TextLabel", keyFrame)
status.Size = UDim2.new(1, 0, 0, 30)
status.Position = UDim2.new(0, 0, 1, -30)
status.BackgroundTransparency = 1
status.Text = ""
status.TextColor3 = Color3.fromRGB(255, 80, 80)
status.Font = Enum.Font.GothamBold
status.TextSize = 14

-- üîó Replace this with your actual Workink link
local keyLink = "https://workink.net/26Ra/sv236dlr"

linkBtn.MouseButton1Click:Connect(function()
    setclipboard(keyLink)
    status.Text = "üìã Link copied to clipboard!"
end)

-- üîê Replace this with the actual key you give users
local validKey = "Df2df_rw7he_fv6dq"

local executorGui = Instance.new("ScreenGui", game:GetService("CoreGui"))
executorGui.Name = "SynassiumExecutor"
executorGui.ResetOnSpawn = false
executorGui.Enabled = false

submitBtn.MouseButton1Click:Connect(function()
    if keyBox.Text == validKey then
        keyGui:Destroy()
        executorGui.Enabled = true
        print("‚úÖ Key accepted")
    else
        keyBox.Text = ""
        status.Text = "‚ùå Invalid key. Try again..."
    end
end)


-- üß± Main Frame
local frame = Instance.new("Frame", executorGui)
frame.Size = UDim2.new(0, 600, 0, 400)
frame.Position = UDim2.new(0.5, -300, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true

-- üß† Header
local header = Instance.new("Frame", frame)
header.Size = UDim2.new(1, 0, 0, 35)
header.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
local gradient = Instance.new("UIGradient", header)
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 100)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 200, 255))
}
gradient.Rotation = 45

local title = Instance.new("TextLabel", header)
title.Size = UDim2.new(1, 0, 1, 0)
title.BackgroundTransparency = 1
title.Text = "Epic Executor"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 18

-- üßæ Script Editor
local scroll = Instance.new("ScrollingFrame", frame)
scroll.Size = UDim2.new(1, -20, 0.95, -75)
scroll.Position = UDim2.new(0, 10, 0, 45)
scroll.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
scroll.BorderSizePixel = 0
scroll.CanvasSize = UDim2.new(0, 0, 0, 14000)
scroll.ScrollBarThickness = 6
scroll.VerticalScrollBarInset = Enum.ScrollBarInset.ScrollBar

local gutter = Instance.new("TextLabel", scroll)
gutter.Size = UDim2.new(0, 40, 0, 14000)
gutter.Position = UDim2.new(0, 0, 0, 0)
gutter.BackgroundTransparency = 1
gutter.TextColor3 = Color3.fromRGB(100, 100, 100)
gutter.Font = Enum.Font.Code
gutter.TextSize = 14
gutter.TextXAlignment = Enum.TextXAlignment.Right
gutter.TextYAlignment = Enum.TextYAlignment.Top
local gutterText = ""
for i = 1, 1000 do gutterText = gutterText .. i .. "\n" end
gutter.Text = gutterText

local editor = Instance.new("TextBox", scroll)
editor.Size = UDim2.new(1, -40, 0, 14000)
editor.Position = UDim2.new(0, 40, 0, 0)
editor.BackgroundTransparency = 1
editor.TextColor3 = Color3.new(1, 1, 1)
editor.Font = Enum.Font.Code
editor.TextSize = 14
editor.TextXAlignment = Enum.TextXAlignment.Left
editor.TextYAlignment = Enum.TextYAlignment.Top
editor.ClearTextOnFocus = false
editor.MultiLine = true
editor.TextWrapped = true
editor.Text = "-- Paste your script here"

 --close button--
local closeExecutor = Instance.new("TextButton", frame)
closeExecutor.Size = UDim2.new(0, 30, 0, 30)
closeExecutor.Position = UDim2.new(1, -35, 0, 5)
closeExecutor.BackgroundColor3 = Color3.fromRGB(60, 20, 20)
closeExecutor.TextColor3 = Color3.fromRGB(255, 255, 255)
closeExecutor.Font = Enum.Font.GothamBold
closeExecutor.TextSize = 16
closeExecutor.Text = "X"
closeExecutor.BorderSizePixel = 0

closeExecutor.MouseEnter:Connect(function()
    closeExecutor.BackgroundColor3 = Color3.fromRGB(100, 30, 30)
end)

closeExecutor.MouseLeave:Connect(function()
    closeExecutor.BackgroundColor3 = Color3.fromRGB(60, 20, 20)
end)

closeExecutor.MouseButton1Click:Connect(function()
    executorGui:Destroy()
end)

-- üîò Button Creator
local function createButton(text, xOffset)
    local btn = Instance.new("TextButton", frame)
    btn.Size = UDim2.new(0, 90, 0, 30)
    btn.Position = UDim2.new(0, xOffset, 1, -35)
    btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    btn.TextColor3 = Color3.fromRGB(0, 255, 200)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    btn.Text = text
    btn.BorderSizePixel = 0
    btn.AutoButtonColor = false
    btn.MouseEnter:Connect(function() btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60) end)
    btn.MouseLeave:Connect(function() btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45) end)
    return btn
end

-- üîò Buttons
local exec = createButton("‚ö° Execute", 10)
local clear = createButton("üóë Clear", 110)
local save = createButton("üíæ Save", 210)
local open = createButton("üìÅ Open", 310)

-- ‚ö° Execute Script
exec.MouseButton1Click:Connect(function()
    local code = editor.Text
    local func, err = loadstring(code)
    if func then
        local success, result = pcall(func)
        if not success then warn("Execution error:", result) end
    else
        warn("Loadstring failed:", err)
    end
end)

-- üóë Clear Editor
clear.MouseButton1Click:Connect(function()
    editor.Text = ""
end)

-- üíæ Save Popup
local savePopup = Instance.new("Frame", executorGui)
savePopup.Size = UDim2.new(0, 300, 0, 120)
savePopup.Position = UDim2.new(0.5, -150, 0.5, -60)
savePopup.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
savePopup.BorderSizePixel = 0
savePopup.Visible = false

local popupTitle = Instance.new("TextLabel", savePopup)
popupTitle.Size = UDim2.new(1, 0, 0, 30)
popupTitle.BackgroundTransparency = 1
popupTitle.Text = "üíæ Save Script As"
popupTitle.TextColor3 = Color3.new(1, 1, 1)
popupTitle.Font = Enum.Font.GothamBold
popupTitle.TextSize = 16

local nameBox = Instance.new("TextBox", savePopup)
nameBox.Size = UDim2.new(1, -20, 0, 30)
nameBox.Position = UDim2.new(0, 10, 0, 40)
nameBox.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
nameBox.TextColor3 = Color3.new(1, 1, 1)
nameBox.Font = Enum.Font.Code
nameBox.TextSize = 14
nameBox.PlaceholderText = "Enter script name..."
nameBox.Text = ""

local confirmSave = Instance.new("TextButton", savePopup)
confirmSave.Size = UDim2.new(0, 90, 0, 30)
confirmSave.Position = UDim2.new(1, -100, 1, -35)
confirmSave.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
confirmSave.TextColor3 = Color3.fromRGB(0, 255, 200)
confirmSave.Font = Enum.Font.GothamBold
confirmSave.TextSize = 14
confirmSave.Text = "üíæ Save"
confirmSave.BorderSizePixel = 0

-- üíæ Save Logic
save.MouseButton1Click:Connect(function()
    savePopup.Visible = true
    nameBox.Text = ""
end)

confirmSave.MouseButton1Click:Connect(function()
    local name = nameBox.Text:gsub("[^%w_]", "")
    if name ~= "" and writefile then
        local filename = "Epic_" .. name .. ".lua"
        writefile(filename, editor.Text)
        print("‚úÖ Saved as", filename)
        savePopup.Visible = false
    else
        warn("‚ùå Invalid name or writefile unsupported")
    end
end)
-- üìÇ Script Browser
local browser = Instance.new("Frame", executorGui)
browser.Size = UDim2.new(0, 300, 0, 350)
browser.Position = UDim2.new(0.5, -150, 0.5, -175)
browser.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
browser.BorderSizePixel = 0
browser.Visible = false

local browserTitle = Instance.new("TextLabel", browser)
browserTitle.Size = UDim2.new(1, 0, 0, 35)
browserTitle.BackgroundTransparency = 1
browserTitle.Text = "üìÇ Script Browser"
browserTitle.TextColor3 = Color3.new(1, 1, 1)
browserTitle.Font = Enum.Font.GothamBold
browserTitle.TextSize = 16

local closeBtn = Instance.new("TextButton", browser)
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Position = UDim2.new(1, -35, 0, 5)
closeBtn.BackgroundColor3 = Color3.fromRGB(60, 20, 20)
closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 16
closeBtn.Text = "X"
closeBtn.BorderSizePixel = 0
closeBtn.MouseEnter:Connect(function() closeBtn.BackgroundColor3 = Color3.fromRGB(100, 30, 30) end)
closeBtn.MouseLeave:Connect(function() closeBtn.BackgroundColor3 = Color3.fromRGB(60, 20, 20) end)
closeBtn.MouseButton1Click:Connect(function()
    browser.Visible = false
end)

local scriptList = Instance.new("ScrollingFrame", browser)
scriptList.Size = UDim2.new(1, -20, 1, -75)
scriptList.Position = UDim2.new(0, 10, 0, 40)
scriptList.BackgroundTransparency = 1
scriptList.CanvasSize = UDim2.new(0, 0, 0, 1000)
scriptList.ScrollBarThickness = 6
scriptList.AutomaticCanvasSize = Enum.AutomaticSize.Y
scriptList.VerticalScrollBarInset = Enum.ScrollBarInset.ScrollBar

local loadBtn = Instance.new("TextButton", browser)
loadBtn.Size = UDim2.new(0, 90, 0, 30)
loadBtn.Position = UDim2.new(0, 10, 1, -35)
loadBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
loadBtn.TextColor3 = Color3.fromRGB(0, 255, 200)
loadBtn.Font = Enum.Font.GothamBold
loadBtn.TextSize = 14
loadBtn.Text = "üìÇ Load"
loadBtn.BorderSizePixel = 0

local selectedScript = nil

loadBtn.MouseButton1Click:Connect(function()
    if selectedScript and readfile then
        editor.Text = readfile(selectedScript)
        print("üìÇ Loaded:", selectedScript)
        browser.Visible = false
    end
end)

open.MouseButton1Click:Connect(function()
    if listfiles then
        for _, child in ipairs(scriptList:GetChildren()) do
            if child:IsA("Frame") then child:Destroy() end
        end
        local files = listfiles("")
        for _, file in ipairs(files) do
            if file:match("^Epic_.*%.lua$") then
                local row = Instance.new("Frame", scriptList)
                row.Size = UDim2.new(1, -10, 0, 30)
                row.BackgroundTransparency = 1

                local btn = Instance.new("TextButton", row)
                btn.Size = UDim2.new(0.75, 0, 1, 0)
                btn.Position = UDim2.new(0, 0, 0, 0)
                btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
                btn.TextColor3 = Color3.fromRGB(255, 255, 255)
                btn.Font = Enum.Font.Code
                btn.TextSize = 14
                btn.Text = file
                btn.BorderSizePixel = 0

                local del = Instance.new("TextButton", row)
                del.Size = UDim2.new(0.25, -5, 1, 0)
                del.Position = UDim2.new(0.75, 5, 0, 0)
                del.BackgroundColor3 = Color3.fromRGB(60, 20, 20)
                del.TextColor3 = Color3.fromRGB(255, 255, 255)
                del.Font = Enum.Font.GothamBold
                del.TextSize = 14
                del.Text = "üóë"
                del.BorderSizePixel = 0

                btn.MouseButton1Click:Connect(function()
                    selectedScript = file
                    for _, other in ipairs(scriptList:GetChildren()) do
                        if other:IsA("Frame") and other:FindFirstChildOfClass("TextButton") then
                            other:FindFirstChildOfClass("TextButton").BackgroundColor3 = Color3.fromRGB(45, 45, 45)
                        end
                    end
                    btn.BackgroundColor3 = Color3.fromRGB(0, 255, 200)
                end)

                del.MouseButton1Click:Connect(function()
                    if delfile then
                        delfile(file)
                        row:Destroy()
                        print("üóë Deleted:", file)
                        if selectedScript == file then selectedScript = nil end
                    else
                        warn("‚ùå delfile not supported")
                    end
                end)
            end
        end
        browser.Visible = true
    else
        warn("‚ùå listfiles not supported")
    end
end)
